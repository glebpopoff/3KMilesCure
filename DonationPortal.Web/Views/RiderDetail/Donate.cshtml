@model DonationPortal.Web.ViewModels.RiderDetail.RiderDetailViewModel
@{
    Layout = null;
}

<section class="stacked-container" role="region">
<a name="donate"></a>
<!-- stacked-container starts ||||||||||||||||||||||||||||||||||||||||||||||||||| -->
<div class="container">
    <form id="donation-form">
        <input type="hidden" name="eventSlug" value="@Model.EventUrlSlug" />
        <input type="hidden" name="riderSlug" value="@Model.RiderUrlSlug" />
        <div class="row">
            <div class="col-sm-12">
                <h2>Help @Model.RiderName Reach @Model.Pronoun Goal. Donate &amp; Send Encouragement.</h2>
                @Model.DonationDescription

                <div class="alert alert-danger" id="validation-error-alert" style="display: none;">Please fill out the required fields below</div>
                <div class="alert alert-danger" id="error-alert" style="display: none;">An unexpected error occurred while processing your donation.</div>
                <div class="alert alert-success" id="success-alert" style="display: none;">Thanks for your donation!</div>

                <div class="panel-group" id="donate-form" role="tablist" aria-multiselectable="true">
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="step-1-heading">
                            <h3 class="panel-title">
                                <a data-toggle="collapse" data-parent="#donate-form" href="#step-1-content" aria-expanded="true" aria-controls="step-1-content">
                                    Step 1 - Location & Message
                                </a>
                            </h3>
                        </div>
                        <div id="step-1-content" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="step-1-heading">
                            <div class="panel-body">
                                @Model.ChooseLocationText
                                <div class="row">
                                    <div class="col-sm-12 col-md-7">
                                        <div class="form-group required" id="map-form-group">
                                            <label for="select-location" class="required control-label">Select Location from Map:</label>
                                            <div style="margin-bottom: 10px;">
                                                <div class="embed-responsive embed-responsive-4by3">
                                                    <div class="map embed-responsive-item" id="donation-map"></div>
                                                </div>
                                                <input type="hidden" name="Latitude" />
                                                <input type="hidden" name="Longitude" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 col-md-5">
                                        <div class="form-group">
                                            <label for="write-message" class="required control-label">Write Message:</label>
                                            <textarea class="form-control required-field" name="Message" rows="6" id="Message"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <p>
                                    <button class="btn btn-tertiary btn-lg" data-toggle="collapse" data-parent="#donate-form" data-target="#step-2-content" aria-expanded="true" aria-controls="step-2-content" id="step-1-button">Next</button>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="step-2-heading">
                            <h3 class="panel-title">
                                <a class="collapsed" data-toggle="collapse" data-parent="#donate-form" href="#step-2-content" aria-expanded="false" aria-controls="step-2-content">
                                    Step 2 - Donation Information
                                </a>
                            </h3>
                        </div>
                        <div id="step-2-content" class="panel-collapse collapse" role="tabpanel" aria-labelledby="step-2-heading">
                            <div class="panel-body">
                                <div class="form-group donate-options">
                                    <div>
                                        <label class="required control-label">Select donation amount:</label>
                                    </div>
                                    <label class="radio-inline">
                                        <input type="radio" name="DonationOption" id="donation-option-1" value="1"> $1
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" name="DonationOption" id="donation-option-2" value="25" checked="checked"> $25
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" name="DonationOption" id="donation-option-3" value="50"> $50
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" name="DonationOption" id="donation-option-4" value="75"> $75
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" name="DonationOption" id="donation-option-5" value="100"> $100
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" class="other-radio" name="DonationOption" id="donation-option-6" value="other"> Other
                                    </label>
                                </div>

                                <div class="form-group other-input">
                                    <label for="other-amount" class="control-label">Other Amount:</label>
                                    <div class="input-group col-sm-4">
                                        <div class="input-group-addon">$</div>
                                        <input type="text" class="form-control" id="other-amount" name="OtherAmount" placeholder="">
                                        <div class="input-group-addon">.00</div>
                                    </div>
                                </div>
                                <p>
                                    <button class="btn btn-tertiary btn-lg" data-toggle="collapse" data-parent="#donate-form" data-target="#step-3-content" aria-expanded="true" aria-controls="step-3-content" id="step-2-button">Next</button>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="step-3-heading">
                            <h3 class="panel-title">
                                <a class="collapsed" data-toggle="collapse" data-parent="#donate-form" href="#step-3-content" aria-expanded="false" aria-controls="step-3-content">
                                    Step 3 - Billing & Payment Information
                                </a>
                            </h3>
                        </div>
                        <div id="step-3-content" class="panel-collapse collapse" role="tabpanel" aria-labelledby="step-3-heading">
                            <div class="panel-body">
                                <div class="alert alert-danger" style="display: none;">Please fill out the required fields below</div>
                                <div class="form-group">
                                    <div><label for="donate-via" class="control-label">Donate via:</label></div>
                                    <label class="radio-inline">
                                        <input type="radio" name="donatetype" checked="checked" value="paypal" id="paypaltype" />PayPal
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" name="donatetype" value="creditcard" id="creditcardtype" />Credit Card
                                    </label>
                                </div>
                                <div class="row" id="PayPalInfo">

                                </div>
                                <div id="CreditCardInfo" style="display:none;">
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="first-name" class="required control-label">First Name:</label>
                                                <input type="text" class="form-control required-field" id="first-name" placeholder="" name="FirstName">
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="last-name" class="required control-label">Last Name:</label>
                                                <input type="text" class="form-control required-field" id="last-name" placeholder="" name="LastName">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="street-address-1" class="required control-label">Street Address 1:</label>
                                                <input type="text" class="form-control required-field" id="street-address-1" placeholder="" name="StreetAddress1">
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="street-address-2" class="control-label">Street Address 2:</label>
                                                <input type="text" class="form-control" id="street-address-2" placeholder="" name="StreetAddress2">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label for="city" class="required control-label">City:</label>
                                                <input type="text" class="form-control required-field" id="city" placeholder="" name="City">
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label for="state" class="required control-label">State:</label>
                                                <select class="form-control required-field" id="state" name="State">
                                                    <option value="AL">Alabama</option>
                                                    <option value="AK">Alaska</option>
                                                    <option value="AZ">Arizona</option>
                                                    <option value="AR">Arkansas</option>
                                                    <option value="CA">California</option>
                                                    <option value="CO">Colorado</option>
                                                    <option value="CT">Connecticut</option>
                                                    <option value="DE">Delaware</option>
                                                    <option value="DC">Dist of Columbia</option>
                                                    <option value="FL">Florida</option>
                                                    <option value="GA">Georgia</option>
                                                    <option value="HI">Hawaii</option>
                                                    <option value="ID">Idaho</option>
                                                    <option value="IL">Illinois</option>
                                                    <option value="IN">Indiana</option>
                                                    <option value="IA">Iowa</option>
                                                    <option value="KS">Kansas</option>
                                                    <option value="KY">Kentucky</option>
                                                    <option value="LA">Louisiana</option>
                                                    <option value="ME">Maine</option>
                                                    <option value="MD">Maryland</option>
                                                    <option value="MA">Massachusetts</option>
                                                    <option value="MI">Michigan</option>
                                                    <option value="MN">Minnesota</option>
                                                    <option value="MS">Mississippi</option>
                                                    <option value="MO">Missouri</option>
                                                    <option value="MT">Montana</option>
                                                    <option value="NE">Nebraska</option>
                                                    <option value="NV">Nevada</option>
                                                    <option value="NH">New Hampshire</option>
                                                    <option value="NJ">New Jersey</option>
                                                    <option value="NM">New Mexico</option>
                                                    <option value="NY">New York</option>
                                                    <option value="NC">North Carolina</option>
                                                    <option value="ND">North Dakota</option>
                                                    <option value="OH">Ohio</option>
                                                    <option value="OK">Oklahoma</option>
                                                    <option value="OR">Oregon</option>
                                                    <option value="PA">Pennsylvania</option>
                                                    <option value="RI">Rhode Island</option>
                                                    <option value="SC">South Carolina</option>
                                                    <option value="SD">South Dakota</option>
                                                    <option value="TN">Tennessee</option>
                                                    <option value="TX">Texas</option>
                                                    <option value="UT">Utah</option>
                                                    <option value="VT">Vermont</option>
                                                    <option value="VA">Virginia</option>
                                                    <option value="WA">Washington</option>
                                                    <option value="WV">West Virginia</option>
                                                    <option value="WI">Wisconsin</option>
                                                    <option value="WY">Wyoming</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label for="zip" class="required control-label">Zip:</label>
                                                <input type="text" class="form-control required-field" id="zip" placeholder="" name="ZipCode">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="email" class="required control-label">Email:</label>
                                                <input type="text" class="form-control required-field" id="email" placeholder="" name="Email">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="credit-card" class="required control-label">Credit Card Number:</label>
                                                <input type="text" class="form-control required-field" id="credit-card" placeholder="" name="CreditCardNumber">
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-inline expiration-fields">
                                                <div class="form-group">
                                                    <div>
                                                        <label for="date" class="required control-label" style="margin-bottom:5px;">Expiration Date:</label>
                                                    </div>
                                                    <select class="form-control required-field" id="date" name="ExpirationMonth">
                                                        <option value="01">01</option>
                                                        <option value="02">02</option>
                                                        <option value="03">03</option>
                                                        <option value="04">04</option>
                                                        <option value="05">05</option>
                                                        <option value="06">06</option>
                                                        <option value="07">07</option>
                                                        <option value="08">08</option>
                                                        <option value="09">09</option>
                                                        <option value="10">10</option>
                                                        <option value="11">11</option>
                                                        <option value="12">12</option>
                                                    </select>
                                                    <label for="year" class="sr-only control-label">Expiration Date:</label>
                                                    <select class="form-control required-field" id="year" name="ExpirationYear">
                                                        <option value="2015">2015</option>
                                                        <option value="2016">2016</option>
                                                        <option value="2017">2017</option>
                                                        <option value="2018">2018</option>
                                                        <option value="2019">2019</option>
                                                        <option value="2020">2020</option>
                                                        <option value="2021">2021</option>
                                                        <option value="2022">2022</option>
                                                        <option value="2023">2023</option>
                                                        <option value="2024">2024</option>
                                                        <option value="2025">2025</option>
                                                    </select>
                                                </div>
                                                <div class="form-group" style="margin-left:5px;">
                                                    <div><label for="cvv" class="required control-label" style="margin-bottom:5px;">CVV Number:</label></div>
                                                    <input type="text" class="form-control required-field" id="cvv" placeholder="" name="CvvNumber">
                                                    <a href="#" style="margin-left: 5px;" data-toggle="tooltip" title="For MasterCard, Visa or Discover, it's the last three digits in the signature area on the back of your card. For American Express, it's the four digits on the front of the card."><i class="fa fa-question-circle"></i></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="clearfix"></div>

                                </div>
                                <p>
                                    <button class="btn btn-tertiary btn-lg" id="step-3-button">Donate Now</button>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <form style="opacity: 1;" target="_top" class="paypal-button" action="@System.Configuration.ConfigurationManager.AppSettings["PayPalUrl"]" method="post" id="PayPalPost">
        <div id="errorBox" class="hide"></div>
        <input value="donate" name="button" type="hidden">
        <input value="@System.Configuration.ConfigurationManager.AppSettings["PayPalBusinessID"]" name="business" type="hidden">
        <input value="3000 Mile Donation" name="item_name" type="hidden">
        <input value="" name="quantity" type="hidden">
        <input value="25.00" name="amount" type="hidden" id="DonateAmount">
        <input value="" name="currency_code" type="hidden">
        <input value="" name="shipping" type="hidden">
        <input value="" name="tax" type="hidden">
        <input value="" name="notify_url" type="hidden">
        <input value="2" name="rm" type="hidden" />
        <input value="@System.Configuration.ConfigurationManager.AppSettings["PayPalCallback"]" name="return" type="hidden">
        <input value="_donations" name="cmd" type="hidden">
        <input value="JavaScriptButton_donate" name="bn" type="hidden">
        <input value="Click here to complete the transaction." name="cbt" type="hidden" />
    </form>
</div>
<!-- stacked-container ends ||||||||||||||||||||||||||||||||||||||||||||||||||| -->
    <script>
    function PagePostInit() {

        $("input[name='donatetype']").on("change", function (e) {
            if (this.value == "creditcard") {
                $("#CreditCardInfo").show();
                $("#PayPalInfo").hide();
            } else {
                $("#CreditCardInfo").hide();
                $("#PayPalInfo").show();
            }
        });

        $("input[name='DonationOption']").on("change", function (e) {
            if (isNaN(this.value) == false)
            {
                $("#DonateAmount").val(this.value);
            } else {
                $("#DonateAmount").val("");
            }
        });

        $("#other-amount").on("keyup", function (e)
        {
            if (isNaN(this.value) == false)
            {
                $("#DonateAmount").val(this.value);
            } else {
                $("#DonateAmount").val("");
            }

        });
    }


    </script>
</section>